<!-- index.html
    The home page for AuxBattle.

    @file public/index.html
    @author
 -->
<!DOCTYPE html>
<html>
    <head>
        <title>AuxBattle</title>
        <link rel="stylesheet" href="css/global.css" >
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>

    <body style="margin: 0px">
        <!-- Header -->
        <div style="height: 400px; max-width: 100%; background-color: blue;">
            <!-- Sticky Links -->
            <div style="height: 100px; padding-right: 100px; background-color: green; display: flex; flex-flow: row nowrap; justify-content: space-between; align-items: center;">
                <div style="height: 70px; width: 140px">
                    <h1 style="margin-left: 50px">Logo</h1>
                </div>
                <div style="height: 70px; width:300px; display:flex; align-items:center"> <!-- Links -->
                    <div>
                        <button class="dropbtn" onclick="showDrop('drop1')">Dropdown
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="dropdown-content" id="drop1">
                            <a href="#">Link 1</a>
                            <a href="#">Link 2</a>
                            <a href="#">Link 3</a>
                        </div>
                    </div>
                    <div>
                        <button class="dropbtn" onclick="showDrop('drop2')">Dropdown
                            <i class="fa fa-caret-down"></i>
                          </button>
                        <div class="dropdown-content" id="drop2">
                            <a href="#">Link 1</a>
                            <a href="#">Link 2</a>
                            <a href="#">Link 3</a>
                        </div>
                    </div>
                    <div>
                        <button class="dropbtn" onclick="showDrop('drop3')">Dropdown
                            <i class="fa fa-caret-down"></i>
                          </button>
                        <div class="dropdown-content" id="drop3">
                            <a href="#">Link 1</a>
                            <a href="#">Link 2</a>
                            <a href="#">Link 3</a>
                        </div>
                    </div>
                </div>
                <script> // Dropdown script
                    function showDrop(id) {
                        document.getElementById(id).classList.toggle("show");

                        // Close the dropdown if the user clicks outside of it
                        setTimeout(() => {
                            let savedID = id;
                            window.onclick = function(e) {
                            if (document.getElementById(savedID).parentNode.children[0] != e.target) {
                                for (let i of ["drop1", "drop2", "drop3"]) {
                                    if (i != savedID) {
                                        let myDropdown = document.getElementById(savedID);
                                        if (myDropdown.classList.contains('show')) {
                                            myDropdown.classList.remove('show');
                                        }
                                    }
                                }
                            }
                        }
                        }, 50);
                    }
                </script>
            </div>

            <!-- Rest of content in Hero -->
            <div style="margin: 100px 0px; display:flex; flex-direction: column; flex-wrap: nowrap; align-items:center;">
                <h1 style="text-align:center">
                    TITLE
                </h1>
                <a href="play.html"><button>Play</button></a>
            </div>
            
        </div>

        <div style="height: 500px">
            <h1 style="text-align:center"> Content </h1>
            <div id="youtube-player"
      data-video="LoE3X_KpzTU"
      data-startseconds="20"
      data-endseconds="120"
      data-height="480"
      data-width="640">
</div>
<script src="https://www.youtube.com/iframe_api"></script>
<script type="text/javascript">
        let player = null;
      function onYouTubeIframeAPIReady() {
        var ctrlq = document.getElementById("youtube-player");
        player = new YT.Player('youtube-player', {
          height: ctrlq.dataset.height,
          width: ctrlq.dataset.width,
          events: {
            'onReady': function(e) {
              e.target.loadVideoById({
                videoId: ctrlq.dataset.video,
                startSeconds: ctrlq.dataset.startseconds,
                endSeconds: ctrlq.dataset.endseconds
              });
              
            }
          }
        });
        console.log(ctrlq.dataset.video, ctrlq.dataset.startseconds, ctrlq.dataset.endseconds)
      }
    </script>
    <div id="clickme" style="background-color: aqua; height:100px; width:100px">
    </div>
    <script>
        document.getElementById("youtube-player").style.display="none";
        document.getElementById("clickme").addEventListener("click", (evt)=>{
            console.log(player);
            player.playVideo();
        });
    </script>
        </div>

    </body>
</html>